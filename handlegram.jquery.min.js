"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,n,i){var a={init:function(e,n){var i=this;i.elem=n,i.$elem=t(n),i.url="https://api.instagram.com/v1/",i.options=t.extend({},t.fn.handlegram.options,e),i.run()},run:function(){var t=this;t.buildUrl(t.options.get),this.fetch().done(function(e){t.buildFrag(e),t.attachTemplate(),"function"==typeof t.options.onComplete&&t.options.onComplete.apply(t.elem,arguments)})},fetch:function(){return t.ajax({url:this.url,data:{client_id:this.options.clientId,count:this.options.limit},dataType:"jsonp"})},buildUrl:function(t){var e="/media/recent",n="";switch(t){case"popular":n="media/popular";break;case"tag":n="tags/"+this.options.tagName+e;break;case"location":n="locations/"+this.options.locationId+e;break;case"user":n="users/"+this.options.userId+e}this.url=this.url+n},buildFrag:function(e){var n=this;n.media=t.map(e.data,function(t,e){return{image:t.images[n.options.resolution].url,likes:t.likes.count,caption:t.caption.text,link:t.link,username:t.user.username,date:n.formatTime(t.caption.created_time)}})},attachTemplate:function(){var t=Handlebars.compile(this.options.template.html()),e=t(this.media);this.$elem.append(e)},formatTime:function(t){var e=parseInt(t),n=new Date(1e3*e),i=(n.getDate()<10?"0":"")+n.getDate(),a=(n.getMonth()<10?"0":"")+(n.getMonth()+1),o=n.getFullYear();return i+"/"+a+"/"+o}};t.fn.handlegram=function(e){var n=Object.create(a);return n.init(e,this),t.data(this[0],"handlegram",n),this},t.fn.handlegram.options={clientId:"97ae5f4c024c4a91804f959f43f2635f",get:"popular",resolution:"low_resolution",limit:10,onComplete:null}}(jQuery,window,document);